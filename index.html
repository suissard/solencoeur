<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solencoeur - Chœur associatif Tarbes</title>
    <meta name="description" content="Solencoeur, le chœur militant de Tarbes. Découvrez notre répertoire, nos dates de concert et soutenez-nous.">

    <!-- Polices et Icônes Material Design -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <style>
        /* --- Contenu de style.css intégré --- */
        
        /* --- Variables (Palette Chaleureuse) --- */
        :root {
            --color-primary: #FF7043; /* Orange "corail" chaud */
            --color-primary-dark: #F4511E;
            --color-secondary: #5C6BC0; /* Indigo doux */
            --color-text: #333;
            --color-text-light: #666;
            --color-bg: #FDFEFE;
            --color-surface: #FFFFFF; /* Cartes, header */

            --shadow-1: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            --shadow-2: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
            --border-radius: 8px;
            --transition-speed: 0.3s ease;
        }

        /* --- Base & Accessibilité --- */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            margin: 0;
            padding-top: 70px; /* Hauteur du header */
            line-height: 1.6;
        }

        /* Focus visible pour RGAA */
        :focus-visible {
            outline: 3px solid var(--color-secondary);
            outline-offset: 2px;
        }

        /* Conteneur principal */
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
        }

        h1, h2, h3 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            color: var(--color-primary-dark);
        }

        img, iframe {
            max-width: 100%;
            height: auto;
            border-radius: var(--border-radius);
        }

        /* --- Header & Navigation --- */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--color-surface);
            z-index: 100;
        }
        .header-shadow {
            box-shadow: var(--shadow-1);
        }
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
            padding: 0 20px;
            max-width: 1100px;
            margin: 0 auto;
        }
        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--color-primary);
            text-decoration: none;
        }
        #main-nav ul {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        #main-nav a {
            display: block;
            padding: 10px 15px;
            text-decoration: none;
            color: var(--color-text);
            font-weight: 500;
            transition: var(--transition-speed);
            border-bottom: 3px solid transparent;
        }
        #main-nav a:hover, #main-nav a.active {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
        }

        /* --- Mobile Menu (Caché par défaut) --- */
        #mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--color-primary);
            padding: 5px;
        }
        #mobile-menu-btn .material-icons {
            font-size: 2.5rem;
        }

        /* --- Style des Cartes (Material) --- */
        .card {
            background: var(--color-surface);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-1);
            margin-bottom: 20px;
            overflow: hidden;
            transition: box-shadow var(--transition-speed);
            display: flex;
            flex-direction: column;
        }
        .card:hover {
            box-shadow: var(--shadow-2); /* Animation douce au survol */
        }
        .card-content {
            padding: 24px;
            flex-grow: 1;
        }
        .card-actions {
            padding: 16px 24px;
            border-top: 1px solid #eee;
        }

        /* --- Boutons (Material) --- */
        .btn {
            display: inline-block;
            padding: 10px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            text-decoration: none;
            text-transform: uppercase;
            transition: var(--transition-speed);
            box-shadow: var(--shadow-1);
            text-align: center;
        }
        .btn-primary {
            background-color: var(--color-primary);
            color: white;
        }
        .btn-primary:hover {
            background-color: var(--color-primary-dark);
            box-shadow: var(--shadow-2);
        }
        .btn-secondary {
            background-color: var(--color-surface);
            color: var(--color-secondary);
            border: 1px solid var(--color-secondary);
        }
        .btn-secondary:hover {
            background-color: #f0f0f0;
        }

        /* --- Grilles (Blog, Agenda) --- */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        /* --- Footer --- */
        footer {
            background-color: #333;
            color: #eee;
            padding: 40px 20px;
            margin-top: 40px;
            text-align: center;
        }
        footer a {
            color: var(--color-primary);
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }

        /* --- Responsive (Mobile) --- */
        @media (max-width: 800px) {
            #main-nav {
                display: none; /* Caché */
                position: absolute;
                top: 70px;
                left: 0;
                width: 100%;
                background-color: var(--color-surface);
                box-shadow: var(--shadow-1);
            }
            #main-nav.open {
                display: block; /* Affiché */
            }
            #main-nav ul {
                flex-direction: column;
            }
            #main-nav a {
                padding: 15px;
                text-align: center;
                border-bottom: 1px solid #f0f0f0;
            }
            #mobile-menu-btn {
                display: block; /* Affiché */
            }
        }

        /* --- Loader --- */
        .loader {
            text-align: center;
            padding: 50px;
            font-size: 1.5rem;
        }

        /* --- Formulaire de contact --- */
        #contact-form {
            max-width: 600px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-family: 'Roboto', sans-serif;
            box-sizing: border-box;
        }
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
    </style>
</head>
<body>

    <header class="header-shadow">
        <div class="nav-container">
            <a href="#accueil" class="logo">
                <strong>Solencoeur</strong>
            </a>
            
            <nav id="main-nav">
                <ul>
                    <!-- Les liens utilisent le hash (#) pour le routeur JS -->
                    <li><a href="#accueil">Accueil</a></li>
                    <li><a href="#association">L'Association</a></li>
                    <li><a href="#agenda">Agenda</a></li>
                    <li><a href="#blog">Blog</a></li>
                    <li><a href="#media">Média</a></li>
                    <li><a href="#soutenir">Nous soutenir</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
            <button id="mobile-menu-btn" aria-label="Ouvrir le menu" aria-expanded="false" aria-controls="main-nav">
                <span class="material-icons">menu</span>
            </button>
        </div>
    </header>

    <!-- Le contenu des pages sera injecté ici par le JavaScript -->
    <main id="main-content" tabindex="-1">
        <!-- Chargement initial -->
        <div class="loader">Chargement...</div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Solencoeur. Tous droits réservés.</p>
            <p>
                <a href="#politique-confidentialite">Politique de confidentialité</a>
            </p>
        </div>
    </footer>

    <script>
    // --- Contenu de app.js intégré ---
    document.addEventListener('DOMContentLoaded', () => {

        // --- A. Contenu des pages et données (précédemment dans des fichiers séparés) ---

        // 1. Vues HTML
        const views = {
            'accueil': `
                <div class="container">
                    <h1>Solencoeur : Chanter pour le Vivre Ensemble</h1>
                    <p class="lead">Nous sommes un chœur associatif de Tarbes, militant pour l'inclusion et l'accessibilité à travers le répertoire de la chanson française.</p>
                    <div class="card-actions">
                        <a href="#agenda" class="btn btn-primary">Voir nos prochains concerts</a>
                        <a href="#association" class="btn btn-secondary">Découvrir l'asso</a>
                    </div>
                </div>`,
            'association': `
                <div class="container">
                    <h1>Notre Association</h1>
                    <p>La mission de Solencoeur est de "témoigner du Vivre Ensemble". Nous croyons que le chant choral est un puissant vecteur d'inclusion, de partage et de militantisme social.</p>
                    <h2>Nos Valeurs</h2>
                    <ul>
                        <li><strong>Inclusion :</strong> Accueillir chacun, quelles que soient ses capacités.</li>
                        <li><strong>Partage :</strong> Transmettre l'émotion de la chanson française.</li>
                        <li><strong>Accessibilité :</strong> Lutter pour que la culture soit accessible à tous.</li>
                    </ul>
                </div>`,
            'agenda': `
                <div class="container">
                    <h1>Agenda des Concerts</h1>
                    <p>Découvrez où et quand nous trouver. Venez chanter avec nous !</p>
                    <div id="agenda-list" class="grid-container"></div>
                </div>`,
            'blog': `
                <div class="container">
                    <h1>Le Blog de Solencoeur</h1>
                    <p>Nos actualités, nos coups de cœur et les coulisses de l'association.</p>
                    <div id="blog-list" class="grid-container"></div>
                </div>`,
            'media': `
                <div class="container">
                    <h1>Médiathèque</h1>
                    <p>Quelques extraits de nos prestations et répétitions. (Liens YouTube factices pour l'aperçu)</p>
                    <div id="media-gallery" class="grid-container"></div>
                </div>`,
            'soutenir': `
                <div class="container">
                    <h1>Nous Soutenir</h1>
                    <p>Solencoeur vit grâce à l'engagement de ses membres et au soutien de ses partenaires. Chaque don, chaque adhésion compte.</p>
                    <div class="grid-container">
                        <div class="card">
                            <div class="card-content">
                                <h2>Faire un Don (Exemple)</h2>
                                <p>Votre don nous aide à financer nos projets et garantir l'accessibilité de nos concerts.</p>
                            </div>
                            <div class="card-actions">
                                <a href="https://www.helloasso.com/associations/solencoeur/formulaires/1" target="_blank" rel="noopener" class="btn btn-primary">Faire un don sécurisé</a>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-content">
                                <h2>Devenir Mécène</h2>
                                <p>Entreprises, fondations : associez votre image à nos valeurs d'inclusion et de partage.</p>
                            </div>
                            <div class="card-actions">
                                <!-- NOTE: Le fichier assets/dossier-mecenat.pdf doit exister sur votre dépôt GitHub -->
                                <a href="assets/dossier-mecenat.pdf" download class="btn btn-secondary">Télécharger le dossier</a>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-content">
                                <h2>Kit Presse</h2>
                                <p>Journalistes, partenaires, retrouvez ici nos éléments de communication.</p>
                            </div>
                            <div class="card-actions">
                                <!-- NOTE: Le fichier assets/kit-presse.zip doit exister sur votre dépôt GitHub -->
                                <a href="assets/kit-presse.zip" download class="btn btn-secondary">Télécharger le Kit Presse</a>
                            </div>
                        </div>
                    </div>
                </div>`,
            'contact': `
                <div class="container">
                    <h1>Contactez-nous</h1>
                    <p>Pour toute demande (adhésion, prestation, partenariat), n'hésitez pas à nous écrire.</p>
                    <p><strong>Note :</strong> Ce formulaire ouvrira votre application d'email (Outlook, Gmail, etc.).</p>
                    <form id="contact-form">
                        <div class="form-group">
                            <label for="name">Votre Nom</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Votre Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Votre Message</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Ouvrir mon client Mail</button>
                    </form>
                </div>`,
            'politique-confidentialite': `
                <div class="container">
                    <h1>Politique de Confidentialité (Modèle)</h1>
                    <p><em>Attention : Ce texte est un modèle générique. Il doit être adapté et validé par les responsables de l'association Solencoeur.</em></p>
                    <h2>1. Collecte de données</h2>
                    <p>Ce site web ne collecte aucune donnée personnelle identifiable via des outils d'analyse (tracking) ou des cookies tiers.</p>
                    <p>Lorsque vous utilisez le formulaire de contact (lien "mailto:"), vous nous transmettez volontairement votre nom et votre adresse email via votre client de messagerie. Ces données sont utilisées uniquement pour répondre à votre demande et ne sont pas stockées sur ce site.</p>
                    <h2>2. Vos droits</h2>
                    <p>Conformément au RGPD, vous disposez d'un droit d'accès, de rectification et de suppression de vos données en nous contactant à l'adresse email de l'association.</p>
                </div>`,
            '404': `
                <div class="container">
                    <h1>Erreur 404</h1>
                    <p>Désolé, la page demandée n'existe pas.</p>
                    <a href="#accueil" class="btn btn-primary">Retour à l'accueil</a>
                </div>`
        };

        // 2. Données JSON
        const agendaData = [
            { "id": "evt001", "title": "Concert Annuel Solencoeur", "date": "2025-12-15T20:00:00Z", "location": "Le Pari, Tarbes", "description": "Notre grand concert annuel reprenant les classiques de la chanson française militante.", "link": "https://www.helloasso.com/associations/solencoeur/evenements/concert-annuel-2025" },
            { "id": "evt002", "title": "Fête de la Musique", "date": "2026-06-21T18:00:00Z", "location": "Place de la Mairie, Tarbes", "description": "Retrouvez-nous pour une prestation en plein air.", "link": "" }
        ];

        const blogData = [
            { "id": "post001", "title": "Bienvenue sur le nouveau site !", "date": "2025-10-20", "excerpt": "Après des semaines de travail, nous sommes fiers de vous présenter le nouveau visage numérique de Solencoeur." },
            { "id": "post002", "title": "Retour sur le concert au Pari", "date": "2025-12-18", "excerpt": "Quelle soirée ! Merci à tous d'être venus si nombreux pour partager ce moment d'émotion avec nous." }
        ];

        // --- B. Logique applicative ---

        const mainContent = document.getElementById('main-content');
        const mainNav = document.getElementById('main-nav');
        const navLinks = mainNav.querySelectorAll('a');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');

        // Gestion du Menu Mobile
        mobileMenuBtn.addEventListener('click', () => {
            const isOpen = mainNav.classList.toggle('open');
            mobileMenuBtn.setAttribute('aria-expanded', isOpen);
            mobileMenuBtn.querySelector('.material-icons').textContent = isOpen ? 'close' : 'menu';
        });

        mainNav.addEventListener('click', (e) => {
            if (e.target.tagName === 'A') {
                mainNav.classList.remove('open');
                mobileMenuBtn.setAttribute('aria-expanded', 'false');
                mobileMenuBtn.querySelector('.material-icons').textContent = 'menu';
            }
        });

        // Routage et chargement de contenu
        function loadContent(pageName) {
            mainContent.innerHTML = views[pageName] || views['404'];
            updateActiveLink(pageName);
            
            // Exécuter les scripts spécifiques à la page
            if (pageName === 'agenda') loadAgenda();
            if (pageName === 'blog') loadBlog();
            if (pageName === 'media') loadMedia();
            if (pageName === 'contact') setupContactForm();
            
            // Accessibilité
            mainContent.focus();
            window.scrollTo(0, 0);
        }

        function navigate() {
            const pageName = window.location.hash.substring(1) || 'accueil';
            loadContent(pageName);
        }

        function updateActiveLink(pageName) {
            navLinks.forEach(link => {
                link.classList.toggle('active', link.hash === `#${pageName}`);
            });
        }
        
        // Écouteurs pour la navigation
        window.addEventListener('hashchange', navigate);
        document.body.addEventListener('click', e => {
            if (e.target.matches('a[href^="#"]')) {
                // Pour les clics directs sur les liens de navigation
                const pageName = e.target.hash.substring(1);
                // Le hashchange event s'occupera du reste
            }
        });
        
        // Chargement initial
        navigate();

        // --- Fonctions de rendu des données ---
        function loadAgenda() {
            const container = document.getElementById('agenda-list');
            if (!container) return;
            
            const sortedEvents = [...agendaData].sort((a, b) => new Date(b.date) - new Date(a.date));
            if (sortedEvents.length === 0) {
                container.innerHTML = "<p>Aucun événement programmé pour le moment.</p>";
                return;
            }
            container.innerHTML = sortedEvents.map(event => `
                <article class="card">
                    <div class="card-content">
                        <h3>${event.title}</h3>
                        <p><strong>Date :</strong> ${new Date(event.date).toLocaleDateString('fr-FR', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                        <p><strong>Lieu :</strong> ${event.location}</p>
                        <p>${event.description}</p>
                    </div>
                    ${event.link ? `<div class="card-actions">
                        <a href="${event.link}" target="_blank" rel="noopener" class="btn btn-secondary">Plus d'infos / Billets</a>
                    </div>` : ''}
                </article>
            `).join('');
        }

        function loadBlog() {
            const container = document.getElementById('blog-list');
            if (!container) return;
            const sortedPosts = [...blogData].sort((a, b) => new Date(b.date) - new Date(a.date));
            container.innerHTML = sortedPosts.map(post => `
                <article class="card">
                    <div class="card-content">
                        <h3>${post.title}</h3>
                        <p class="text-light"><small>Publié le ${new Date(post.date).toLocaleDateString('fr-FR')}</small></p>
                        <p>${post.excerpt}</p>
                    </div>
                    <div class="card-actions">
                        <a href="#blog/${post.id}" class="btn btn-secondary" onclick="event.preventDefault(); alert('Page de détail de l\\'article à implémenter');">Lire la suite</a>
                    </div>
                </article>
            `).join('');
        }
        
        function loadMedia() {
            const container = document.getElementById('media-gallery');
            if (!container) return;
            const videos = [
                { id: 'dQw4w9WgXcQ', title: "Extrait Concert 1 (Faux lien)" },
                { id: '3JZ_D3ELwOQ', title: "Répétition (Faux lien)" }
            ];
            container.innerHTML = videos.map(video => `
                <div class="card">
                    <div style="aspect-ratio: 16/9;">
                        <iframe 
                            src="https://www.youtube.com/embed/${video.id}" 
                            title="${video.title}" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen
                            style="width:100%; height:100%;">
                        </iframe>
                    </div>
                    <div class="card-content">
                        <h3>${video.title}</h3>
                    </div>
                </div>
            `).join('');
        }

        function setupContactForm() {
            const form = document.getElementById('contact-form');
            if (!form) return;
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const message = document.getElementById('message').value;
                const subject = "Message depuis le site Solencoeur";
                const mailtoLink = `mailto:contact@solencoeur.fr?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(`Nom: ${name}\nEmail: ${email}\n\nMessage:\n${message}`)}`;
                window.location.href = mailtoLink;
            });
        }

    });
    </script>

</body>
</html>
